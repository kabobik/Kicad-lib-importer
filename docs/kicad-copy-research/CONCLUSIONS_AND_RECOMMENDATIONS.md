# –í—ã–≤–æ–¥—ã –∏ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: Anchor Point Logic –≤ KiCAD

**–î–∞—Ç–∞:** 11 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–í–µ—Ä—Å–∏—è KiCAD:** 9.0.7  
**–£—Ä–æ–≤–µ–Ω—å –∞–Ω–∞–ª–∏–∑–∞:** –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–π

---

## –í–´–í–û–î–´ –ê–ù–ê–õ–ò–ó–ê

### 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Anchor Point –≤ KiCAD

**–ö–†–ò–¢–ò–ß–ù–´–ô –ò–ù–í–ê–†–ò–ê–ù–¢:**

–Ø–∫–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ –≤ –±—É—Ñ–µ—Ä–µ –æ–±–º–µ–Ω–∞ **–í–°–ï–ì–î–ê** —Ä–∞–≤–Ω–∞ (0, 0). –≠—Ç–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏:

```cpp
// –í SaveSelection()
copy->Move( -refPoint );  // –°–º–µ—â–µ–Ω–∏–µ –Ω–∞ -refPoint ‚Üí —è–∫–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ –≤ (0, 0)
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ:**
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –ø–ª–∞—Ç–∞–º–∏
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ
- –£–ø—Ä–æ—â–∞–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å–º–µ—â–µ–Ω–∏—è

---

### 2. –ß–µ—Ç—ã—Ä–µ —ç—Ç–∞–ø–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —è–∫–æ—Ä–Ω–æ–π —Ç–æ—á–∫–∏

| –≠—Ç–∞–ø | –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç | –§—É–Ω–∫—Ü–∏—è | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∞ |
|------|---------------|---------|------|--------|
| **1. –í—ã–±–æ—Ä** | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–æ–ø–∏—Ä—É–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏–µ | copyToClipboard() | edit_tool.cpp | 3342 |
| **2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞** | –Ø–∫–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ –≤—ã–¥–µ–ª–µ–Ω–∏–∏ | SetReferencePoint() | edit_tool.cpp | 3407 |
| **3. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å–º–µ—â–∞—é—Ç—Å—è –Ω–∞ -refPoint | SaveSelection() | kicad_clipboard.cpp | 199 |
| **4. –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞** | –ü—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ —è–∫–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è | placeBoardItems() | pcb_control.cpp | 1486 |

---

### 3. –î–≤–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤—ã–±–æ—Ä–∞ anchor point

**–°–¢–†–ê–¢–ï–ì–ò–Ø A: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è** (PCB_ACTIONS::copyWithReference)
```cpp
if( aEvent.IsAction( &PCB_ACTIONS::copyWithReference ) )
    pickReferencePoint( ... );  // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –ø–ª–∞—Ç–µ
```
**–ö–æ–≥–¥–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –≤—ã–±—Ä–∞—Ç—å —Ç–æ—á–∫—É –≤—Ä—É—á–Ω—É—é  
**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å  
**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:** –õ–∏—à–Ω–∏–π –∫–ª–∏–∫

---

**–°–¢–†–ê–¢–ï–ì–ò–Ø B: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è** (ACTIONS::copy, Ctrl+C)
```cpp
else
    refPoint = grid.BestDragOrigin( getViewControls()->GetCursorPosition(), items );
```
**–ö–æ–≥–¥–∞:** –û–±—ã—á–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (Ctrl+C)  
**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ë—ã—Å—Ç—Ä–æ, –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ  
**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:** –í—ã–±–æ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –≤—Å–µ–≥–¥–∞ –æ–ø—Ç–∏–º–∞–ª–µ–Ω

---

### 4. Fallback –º–µ—Ö–∞–Ω–∏–∑–º –≤ GetReferencePoint()

–ï—Å–ª–∏ —è–∫–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä bounding box:

```cpp
VECTOR2I SELECTION::GetReferencePoint() const
{
    if( m_referencePoint )
        return *m_referencePoint;
    else
        return GetBoundingBox().Centre();  // FALLBACK
}
```

**–ö–†–ò–¢–ò–ß–ù–û:** –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –º–µ—Ç–æ–¥ –ù–ò–ö–û–ì–î–ê –Ω–µ –≤–µ—Ä–Ω—ë—Ç null –∏–ª–∏ invalid –∑–Ω–∞—á–µ–Ω–∏–µ.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—É–¥–µ—Ç null)
- –†–∞–∑—É–º–Ω—ã–π –¥–µ—Ñ–æ–ª—Ç ('—Ü–µ–Ω—Ç—Ä –≤—ã–¥–µ–ª–µ–Ω–∏—è)
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –ú–û–î–ò–§–ò–ö–ê–¶–ò–ô

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ò–ó–ú–ï–ù–ò–¢–¨ –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã–±–æ—Ä–∞ anchor point:

**1. –ò–∑–º–µ–Ω–∏—Ç—å fallback (–¥–ª—è GetReferencePoint())**

–¢–µ–∫—É—â–∏–π fallback: —Ü–µ–Ω—Ç—Ä bounding box
```cpp
return GetBoundingBox().Centre();
```

–í–æ–∑–º–æ–∂–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:
```cpp
// –í–∞—Ä–∏–∞–Ω—Ç A: –õ–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª (–±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ)
return GetBoundingBox().GetOrigin();

// –í–∞—Ä–∏–∞–Ω—Ç B: –ü—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª
return GetBoundingBox().GetEnd();

// –í–∞—Ä–∏–∞–Ω—Ç C: –ü–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è
return m_items.front()->GetPosition();

// –í–∞—Ä–∏–∞–Ω—Ç D: –≠–ª–µ–º–µ–Ω—Ç —Å –Ω–∞–∏–º–µ–Ω—å—à–µ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ–π X+Y
VECTOR2I min_pos = m_items.front()->GetPosition();
for( EDA_ITEM* item : m_items )
{
    VECTOR2I pos = item->GetPosition();
    if( pos.x + pos.y < min_pos.x + min_pos.y )
        min_pos = pos;
}
return min_pos;
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π fallback (—Ü–µ–Ω—Ç—Ä bbox). –≠—Ç–æ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –∏ —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.

---

**2. –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–±–æ—Ä–∞ (grid.BestDragOrigin)**

–¢–µ–∫—É—â–∞—è: –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–∑–∏—Ü–∏—é –∫—É—Ä—Å–æ—Ä–∞ –∏ –ø–æ–∑–∏—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
```cpp
refPoint = grid.BestDragOrigin( getViewControls()->GetCursorPosition(), items );
```

–í–æ–∑–º–æ–∂–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:
```cpp
// –í–∞—Ä–∏–∞–Ω—Ç A: –í—Å–µ–≥–¥–∞ –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç
refPoint = items.front()->GetPosition();

// –í–∞—Ä–∏–∞–Ω—Ç B: –ü–æ–∑–∏—Ü–∏—è –∫—É—Ä—Å–æ—Ä–∞ (—á—Ç–æ –≤–∏–¥–µ–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
refPoint = getViewControls()->GetMousePosition();

// –í–∞—Ä–∏–∞–Ω—Ç C: –õ–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç
VECTOR2I top_left = items.front()->GetPosition();
for( BOARD_ITEM* item : items )
{
    VECTOR2I pos = item->GetPosition();
    if( pos.x < top_left.x || (pos.x == top_left.x && pos.y < top_left.y) )
        top_left = pos;
}
refPoint = top_left;

// –í–∞—Ä–∏–∞–Ω—Ç D: –¶–µ–Ω—Ç—Ä bounding box
refPoint = GetBoundingBox().Centre();
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (grid.BestDragOrigin) —Ö–æ—Ä–æ—à–æ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∞. –ò–∑–º–µ–Ω—è—Ç—å –Ω–µ —Å—Ç–æ–∏—Ç.

---

**3. –ò–∑–º–µ–Ω–∏—Ç—å —è–∫–æ—Ä–Ω—É—é —Ç–æ—á–∫—É –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ**

–¢–µ–∫—É—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:
```cpp
if( aAnchorAtOrigin )
    selection.SetReferencePoint( VECTOR2I( 0, 0 ) );      // –≤–∞—Ä–∏–∞–Ω—Ç A
else
    selection.SetReferencePoint( item->GetPosition() );    // –≤–∞—Ä–∏–∞–Ω—Ç B
```

–í–æ–∑–º–æ–∂–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:
```cpp
// –í–∞—Ä–∏–∞–Ω—Ç C: –í—Å–µ–≥–¥–∞ —Ü–µ–Ω—Ç—Ä bounding box (–±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ)
selection.SetReferencePoint( selection.GetBoundingBox().Centre() );

// –í–∞—Ä–∏–∞–Ω—Ç D: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–∞—è –æ–ø—Ü–∏—è
int anchorMode = KICAD_SETTINGS.GetCopyAnchorMode();
switch( anchorMode )
{
    case ANCHOR_ORIGIN:
        selection.SetReferencePoint( VECTOR2I( 0, 0 ) );
        break;
    case ANCHOR_TOP_LEFT:
        selection.SetReferencePoint( item->GetPosition() );
        break;
    case ANCHOR_CENTER:
        selection.SetReferencePoint( selection.GetBoundingBox().Centre() );
        break;
}
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ (aAnchorAtOrigin —Ñ–ª–∞–≥) —Ö–æ—Ä–æ—à–∞. –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ.

---

## –¢–û–ß–ö–ò –†–ê–°–®–ò–†–ï–ù–ò–Ø –ò –ú–û–î–ò–§–ò–ö–ê–¶–ò–ò

### –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø anchor point:

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –Ø–∫–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ –Ω–µ–≤–∏–¥–∏–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä–∫–µ—Ä –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏:

```cpp
// –í copyToClipboard(), –ø–æ—Å–ª–µ SetReferencePoint():

// –ü–æ–∫–∞–∑–∞—Ç—å –º–∞—Ä–∫–µ—Ä —è–∫–æ—Ä–Ω–æ–π —Ç–æ—á–∫–∏
KIGFX::VIEW* view = getView();
view->AddHighlightItem(
    new KIGFX::VIEW_ITEM( /* –º–∞—Ä–∫–µ—Ä –≤ refPoint */ ),
    /* —Ü–≤–µ—Ç –∏ —Å—Ç–∏–ª—å */
);
```

---

### –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ò–°–¢–û–†–ò–Ø anchor point:

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –Ø–∫–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ç–µ–∫—É—â–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏–∏ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞:

```cpp
class CLIPBOARD_HISTORY
{
public:
    struct Entry
    {
        wxString content;
        VECTOR2I refPoint;        // ‚óÑ‚îÄ‚îÄ‚îÄ –ù–û–í–û–ï
        wxTimeSpan copyTime;
    };
    
    void Push( const wxString& content, const VECTOR2I& refPoint );
    Entry Pop();
};
```

---

### –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –ù–ï–°–ö–û–õ–¨–ö–û anchor point (–¥–ª—è –≥—Ä—É–ø–ø):

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –û–¥–Ω–∞ —è–∫–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ –Ω–∞ –≤—Å—ë –≤—ã–¥–µ–ª–µ–Ω–∏–µ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–æ—Ö—Ä–∞–Ω—è—Ç—å anchor point –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–¥–≥—Ä—É–ø–ø—ã:

```cpp
class SELECTION_ANCHOR_MAP
{
public:
    void SetLocalRefPoint( BOARD_ITEM* item, const VECTOR2I& localPoint );
    VECTOR2I GetLocalRefPoint( BOARD_ITEM* item ) const;
    
private:
    std::unordered_map<KIID, VECTOR2I> m_localAnchors;
};
```

---

## –ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –Ø–∫–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º –º–µ—Å—Ç–æ–º

**–ü—Ä–∏–∑–Ω–∞–∫–∏:**
- –ü—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç—ã "—Å–∫–∞—á—É—Ç" –Ω–∞ —Å—Ç—Ä–∞–Ω–Ω–æ–µ –º–µ—Å—Ç–æ
- –Ø–∫–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ –Ω–µ —Ç–∞–º –≥–¥–µ –æ–∂–∏–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `grid.BestDragOrigin()` ‚Äî –º–æ–∂–µ—Ç –ª–∏ –≤–µ—Ä–Ω—É—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ?
2. –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —è–∫–æ—Ä–Ω–æ–π —Ç–æ—á–∫–∏ (–º–∞—Ä–∫–µ—Ä)
3. –ü–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–±—Ä–∞—Ç—å —è–∫–æ—Ä–Ω—É—é —Ç–æ—á–∫—É –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ (copyWithReference)

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è

**–ü—Ä–∏–∑–Ω–∞–∫–∏:**
- –ü—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–º–µ—â–µ–Ω—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —è–∫–æ—Ä–Ω–æ–π —Ç–æ—á–∫–∏ –≤ –±—É—Ñ–µ—Ä–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `copy->Move( -refPoint )` –≤ SaveSelection()
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ refPoint –ø–æ–ª—É—á–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–∑ GetReferencePoint()
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Move() –æ—Ç—Ä–µ–∑–∞–µ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Move tool –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é —è–∫–æ—Ä–Ω—É—é —Ç–æ—á–∫—É

**–ü—Ä–∏–∑–Ω–∞–∫–∏:**
- –ü—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ move tool –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ
- –≠–ª–µ–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –Ω–µ —Ç–∞–∫ –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ SetReferencePoint() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ü–ï–†–ï–î move tool
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ SELECTION –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ move tool
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å –≤—ã–∑–æ–≤–æ–≤ –≤ placeBoardItems()

---

## –¢–ï–°–¢–û–í–´–ï –°–¶–ï–ù–ê–†–ò–ò

### –¢–µ—Å—Ç 1: –ë–∞–∑–æ–≤–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ-–≤—Å—Ç–∞–≤–ª–µ–Ω–∏–µ

```
1. –í—ã–¥–µ–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ –ø–ª–∞—Ç–µ
2. Ctrl+C (–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å)
3. Ctrl+V (–≤—Å—Ç–∞–≤–∏—Ç—å)
4. –û–∂–∏–¥–∞–Ω–∏–µ: —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–∑–º–µ—â—ë–Ω –±–ª–∏–∑–∫–æ –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º
   (ÏïΩÍ∞Ñ —Å–º–µ—â–µ–Ω—ã –¥–ª—è –≤–∏–¥–∏–º–æ—Å—Ç–∏)
```

---

### –¢–µ—Å—Ç 2: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä —è–∫–æ—Ä–Ω–æ–π —Ç–æ—á–∫–∏

```
1. –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞: copyWithReference
2. –í—ã–¥–µ–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã
3. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ —è–∫–æ—Ä–Ω—É—é —Ç–æ—á–∫—É –Ω–∞ –ø–ª–∞—Ç–µ
4. Ctrl+V (–≤—Å—Ç–∞–≤–∏—Ç—å)
5. –û–∂–∏–¥–∞–Ω–∏–µ: —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å—Å—è —Ç–∞–∫ —á—Ç–æ–±—ã –∏–º–µ–Ω–Ω–æ —Ç–∞ —Ç–æ—á–∫–∞
   –±—ã–ª–∞ –≤ –º–µ—Å—Ç–µ –∫–ª–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ
```

---

### –¢–µ—Å—Ç 3: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –¥—Ä—É–≥—É—é –ø–ª–∞—Ç—É

```
1. –ü–ª–∞—Ç–∞ –ê: –≤—ã–¥–µ–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã
2. –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å (Ctrl+C)
3. –û—Ç–∫—Ä—ã—Ç—å –ø–ª–∞—Ç—É –ë
4. –í—Å—Ç–∞–≤–∏—Ç—å (Ctrl+V)
5. –û–∂–∏–¥–∞–Ω–∏–µ: —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
```

---

### –¢–µ—Å—Ç 4: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä footprint

```
1. PCBnew: —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å footprint (Ctrl+C)
2. Footprint Editor: –≤—Å—Ç–∞–≤–∏—Ç—å (Ctrl+V)
3. –û–∂–∏–¥–∞–Ω–∏–µ: footprint –¥–æ–ª–∂–Ω–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ
   —è–∫–æ—Ä–Ω–æ–π —Ç–æ—á–∫–∏
```

---

## –§–ò–ù–ê–õ–¨–ù–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### ‚ùå –ù–ï –ú–ï–ù–Ø–¢–¨:
1. ‚úã Fallback –≤ GetReferencePoint() ‚Üí —Ü–µ–Ω—Ç—Ä bbox (—Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)
2. ‚úã –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ SaveSelection() (–∫—Ä–∏—Ç–∏—á–Ω–∞)
3. ‚úã –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤—ã–∑–æ–≤ move tool –≤ placeBoardItems() (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç)
4. ‚úã –Ø–∫–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ –≤ –±—É—Ñ–µ—Ä–µ = (0, 0) (–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç)

---

### ‚úÖ –ú–û–ñ–ù–û –£–õ–£–ß–®–ò–¢–¨:
1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —è–∫–æ—Ä–Ω–æ–π —Ç–æ—á–∫–∏ (–º–∞—Ä–∫–µ—Ä –Ω–∞ –ø–ª–∞—Ç–µ)
2. ‚úÖ –°–¥–µ–ª–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º fallback (—á–µ—Ä–µ–∑ settings)
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞ —Å —è–∫–æ—Ä–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏
4. ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —è–∫–æ—Ä–Ω—ã—Ö —Ç–æ—á–µ–∫ –¥–ª—è –≥—Ä—É–ø–ø

---

### üöÄ –î–õ–Ø –ù–û–í–´–• –§–ò–ß:
1. üöÄ **Snap-to-object:** –Ø–∫–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–Ω–∞–ø–ø–∏—Ç—Å—è –∫ –æ–±—ä–µ–∫—Ç–∞–º
2. üöÄ **Anchor presets:** –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —è–∫–æ—Ä–Ω—ã–µ —Ç–æ—á–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
3. üöÄ **Relative anchors:** –Ø–∫–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ª–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç")
4. üöÄ **Multi-anchor selection:** –†–∞–∑–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤—ã–¥–µ–ª–µ–Ω–∏—è –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ —è–∫–æ—Ä–Ω—ã–µ —Ç–æ—á–∫–∏

---

## –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**Anchor point logic –≤ KiCAD —Ö–æ—Ä–æ—à–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞:**

1. ‚úÖ –ß–µ—Ç–∫–∏–π –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç (—è–∫–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ –≤ –±—É—Ñ–µ—Ä–µ = 0,0)
2. ‚úÖ –ù–∞–¥–µ–∂–Ω—ã–π fallback –º–µ—Ö–∞–Ω–∏–∑–º (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ null)
3. ‚úÖ –î–≤–µ —Ä–∞–∑—É–º–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤—ã–±–æ—Ä–∞ (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è)
4. ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å move tool (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, —Å –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–æ–π)

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —É–ª—É—á—à–µ–Ω–∏–π:**

1. üîß –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —è–∫–æ—Ä–Ω–æ–π —Ç–æ—á–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏—è
3. üîß –ò—Å—Ç–æ—Ä–∏—è –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞
4. üîß –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ª–æ–∂–Ω—ã—Ö –≤—ã–¥–µ–ª–µ–Ω–∏–π (–≥—Ä—É–ø–ø—ã, m√∫ltiple anchors)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏:**

–ï—Å–ª–∏ –≤—ã –¥–µ–ª–∞–µ—Ç–µ —Å–≤–æ—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–µ–∫—É—â–∏–µ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã:
- –Ø–∫–æ—Ä–Ω–∞—è —Ç–æ—á–∫–∞ –í–°–ï–ì–î–ê –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ (fallback)
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ –±—É—Ñ–µ—Ä–µ –í–°–ï–ì–î–ê –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫ (0, 0)
- Move tool –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –°–ò–ù–•–†–û–ù–ù–û –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —è–∫–æ—Ä–Ω–æ–π —Ç–æ—á–∫–∏

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞:** 11.02.2026  
**–£—Ä–æ–≤–µ–Ω—å –∞–Ω–∞–ª–∏–∑–∞:** –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–π, –≥–æ—Ç–æ–≤–æ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π  
**–°—Ç–∞—Ç—É—Å:** –ó–ê–í–ï–†–®–ï–ù–û –ò –†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–û
